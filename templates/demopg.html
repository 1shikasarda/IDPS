<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IDPS Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='democss.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>IDPS Security Dashboard</h1>
            <nav>
                <ul>
                    <li><a href="#overview">Overview</a></li>
                    <li><a href="#scan-results">URL Scanning Results</a></li>
                    <li><a href="#notifications">Notifications & Actions</a></li>
                    <li><a href="#traffic-monitoring">View URL Files</a></li>
                    <li><a href="#admin-panel">Admin Panel</a></li>
                    <li><a href="#help">Help & Documentation</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <!-- Overview Section -->
            <section id="overview">
                <h2>Project Overview</h2>
                <p>Welcome to the IDPS Security Dashboard. Monitor, scan, and manage traffic and URL security in real time.</p>
                <button id="quick-scan" class="primary-btn">Quick URL Scan</button>
            </section>

            <!-- URL Scanning Results Section -->
            <section id="scan-results">
                <h2>URL Scanning Results</h2>
                <div class="scan-summary">
                    <h3>Last Scanned URL</h3>
                    <p>Status: <span id="scan-status">Safe</span></p>
                </div>
                <button id="whitelist-url" class="secondary-btn">Add to Whitelist</button>
                <button id="blacklist-url" class="secondary-btn">Add to Blacklist</button>
            </section>

            <!-- User Notification & Action Center -->
            <section id="notifications">
                <h2>Real-Time Alerts & User Actions</h2>
                <div id="alerts" class="alerts-section">
                    <!-- Alerts will be dynamically added here -->
                </div>
            </section>

            <!-- New Section for Viewing Whitelist and Blacklist -->
            <section id="view-files">
                <h2>View URL Files</h2>
                <div class="file-view-buttons">
                    <!-- Link to Whitelisted URLs CSV -->
                    <a href="{{ url_for('view_csv', filename='whitelist.csv') }}" id="view-whitelist-file" class="secondary-btn" download>Download Whitelisted URLs</a>
                    <!-- Link to Blacklisted URLs CSV -->
                    <a href="{{ url_for('view_csv', filename='blacklist.csv') }}" id="view-blacklist-file" class="secondary-btn" download>Download Blacklisted URLs</a>
                </div>
            </section>

            <!-- Admin Panel Section -->
    <section id="admin-panel">
    <h2>Admin Control Panel</h2>
    <!-- Updated Button to open/download the CSV file -->
    <a href="{{ url_for('view_csv', filename='admin data.csv') }}" id="view-activity-logs" class="primary-btn" download>Download Activity Logs</a>
    </section>


            <div class="container">
        <!-- Help Section -->
<section id="help">
    <h2>Help & Documentation</h2>
    <p>Find guides and FAQs here to help you use the IDPS system effectively.</p>

    <!-- FAQ Toggle Section (Using Dropdown Arrow) -->
    <div class="faq-header">
        <h3>Frequently Asked Questions (FAQ)</h3>
        <!-- Dropdown arrow icon to toggle FAQ content visibility -->
        <span id="toggle-faq-arrow" class="dropdown-arrow">&#9662;</span> <!-- Dropdown arrow -->
    </div>

    <!-- FAQ Section (Initially Hidden) -->
    <div id="faq-content" class="hidden-content">
        <ul>
            <li><strong>Q:</strong> How do I whitelist or blacklist a URL?<br>
                <strong>A:</strong> Go to the URL Scanning Results section and click "Whitelist" or "Blacklist" based on your preference.</li><br>
            <li><strong>Q:</strong> Can I view past scan results?<br>
                <strong>A:</strong> Yes, past scan results are accessible under the "Statistics" section for reference.</li><br>
            <li><strong>Q:</strong> What happens if an anomaly is detected?<br>
                <strong>A:</strong> An alert will notify you in real-time. The system logs anomalies for review and action.</li><br>
            <li><strong>Q:</strong> How do I install this system?<br>
                <strong>A:</strong> Set up the backend (Node.js or Flask), install dependencies, and configure services. For full setup, refer to the installation documentation.</li><br>
        </ul>
    </div>
</section>
        </main>

        <footer>
            <p>&copy; 2024 IDPS Project. All Rights Reserved.</p>
        </footer>
    </div>
    <script src="{{ url_for('static', filename='demojs.js') }}"></script>
    <script src="{{ url_for('static', filename='js/ajaxrequests.js') }}"></script>
    <script src="{{ url_for('static', filename='notifications.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
</body>
</html>
